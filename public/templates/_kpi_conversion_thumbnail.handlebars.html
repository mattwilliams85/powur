<div class="drilldown_content">
  <div id="kpi_environment_detail" class="object_detail">

    <div class="object_detail_content">
      <div class="object_detail_user_summary">
        <div class="js-kpi_tab active" id="js-orders_tab">
        <span class="kpi_detail">78</span>
        <br>
        <span class="kpi_title">ORDERS</span>
        </div>
        <div class="js-kpi_tab" id="js-genealogy_tab">
          <span class="kpi_detail">376</span>
          <br>
          <span class="kpi_title">IN YOUR GENEALOGY</span>
        </div>
        <div class="js-kpi_tab" id="js-earnings_tab">
          <span class="kpi_detail" style="font-size:1.8em">$37,634.50</span>
          <br>
          <span class="kpi_title">TOTAL EARNINGS</span>
        </div>
      </div>

      <div class="object_detail_content_section">
        <span class="graph_title">{{this.name}}'s Earnings History </span>
        <br>
        <div class="legend-box">
          <div class="legend">
            <div class="legend-item" id="user-legend"></div>
            <span id="selected_user" class="legend-text">Total Earnings</span>
          </div>
          <div class="time_scale">
            <span class="active week">Week</span><span class="month">Month</span>
          </div>
        </div> <!-- end legend-box -->
        <div class="week-span"></div>

        <canvas id="metricsChart2" width="670" height="330" style="float:left;"></canvas>

        <div class="time_unit_nav">
          <i class="fa fa-caret-left back"></i>
          <span class="current">TODAY</span>
          <i class="fa fa-caret-right forward"></i>
        </div>
      </div> <!-- end object_detail_content_section -->
      <div class="team_statistics">
        <h3>OVERVIEW</h3>
        <h4>Today</h4>
        <span class="label">Earnings: $500</span>
        <h4>This Week</h4>
        <span class="label">Earnings: $1,250</span>
        <h4 style="">This Month</h4>
        <span class="label">Earnings: $1,900</span>
      </div> <!-- end team_statistics_box -->
    </div> <!-- end object_detail_content -->
  </div> <!-- end object_detail -->
</div> <!-- end drilldown_content -->

<style type="text/css">
  .js-kpi_tab {
    background-color:#555;
    padding:10px 0px 0px 0px;
    margin:10px 8px 0px 0px;
    height:151px;
    text-align:center;
    -o-transition:.3s;
    -ms-transition:.3s;
    -moz-transition:.3s;
    -webkit-transition:.3s;
    transition:.3s;
  }

  .js-kpi_tab:hover {
    background-color:#4BA1BF;
    cursor:pointer;
  }

  .js-kpi_tab.active {
    background-color:#4BA1BF;
  }

  .kpi_detail {
    font-size:4em;
    display:block;
    margin-top:35px;
    font-size:55px;
  }

  .kpi_title {
    font-size:15px;
  }

  .drilldown_content {
    background-color:#333;
  }
</style>

<script type="text/javascript">
    var chartType = "line"
    var scale = "week"

    var metricsData1 = {
      //labels: _labels,
      datasets: [{
        fillColor: "rgba(32, 194, 241,.85)",
        highlightFill: "#5bd7f7",
        strokeColor: "rgba(220,220,220,1)",
        pointColor: "rgba(32, 194, 241,.9)",
        data: []
      }, {
        fillColor: "rgba(253, 180, 92, .85)",
        highlightFill: "#FFC870",
        strokeColor: "rgba(220,220,220,1)",
        pointColor: "rgba(253, 180, 92, .9)",
        data: []
      }]
    };

    var options1 = {
      scaleGridLineColor: "rgba(255,255,255,.15)",
      scaleLineColor: "rgba(255,255,255,.15)",
      scaleFontColor: "#fff",
      barShowStroke: true,
      barStrokeWidth: 2,
      barValueSpacing: 20,
      barDatasetSpacing: 1,
      scaleFontSize: 13,
      scaleOverride: true,
      // ** Required if scaleOverride is true **
      scaleSteps: 12,
      scaleStepWidth: 12,
      scaleStartValue: 0,
      // ** end **
      scaleLabel: " <%= !Number(value) ? '' :  Number(value)%>",
      legendTemplate: "<ul class=\"<%=name.toLowerCase()%>-legend\"> \
                         <% for (var i=0; i<datasets.length; i++){%> \
                           <li><span style=\"background-color:<%=datasets[i].fillColor%>\"> \
                             </span><%if(datasets[i].label){%><%=datasets[i].label%><%}%> \
                           </li> \
                         <%}%> \
                       </ul>"
    }

    var metricsData2 = {
     //labels: _labels,
     datasets: [{
       label: "My First dataset",
       fillColor: "rgba(32, 194, 241,.9)",
       highlightFill: "#5bd7f7",
       strokeColor: "rgba(32, 194, 241,.9)",
       data: []
     }]
    };

    var options2 = {
      scaleGridLineColor: "rgba(255,255,255,.15)",
      scaleLineColor: "rgba(255,255,255,.15)",
      scaleFontColor: "#fff",
      bezierCurveTension: .3,
      pointDotRadius: 4,
      scaleFontSize: 13,
      scaleOverride: true,
      // ** Required if scaleOverride is true **
      scaleSteps: 12,
      scaleStepWidth: 12,
      scaleStartValue: 0,
      barValueSpacing: 3,
      // ** end **
      scaleLabel: " <%= !Number(value) ? '' :  Number(value)%>",
      legendTemplate: "<ul class=\"<%=name.toLowerCase()%>-legend\"> \
                         <% for (var i=0; i<datasets.length; i++){%> \
                           <li><span style=\"background-color:<%=datasets[i].lineColor%>\"> \
                             </span><%if(datasets[i].label){%><%=datasets[i].label%><%}%> \
                           </li> \
                         <%}%> \
                       </ul>"
    }

    var metricsData3 = {
        //labels: _labels,
        datasets: [
            {
              label: "My dataset",
              fillColor: "rgba(220,220,0,0)",
              strokeColor: "rgba(32,194,241,1)",
              pointColor: "rgba(32,194,241,1)",
              pointStrokeColor: "#fff",
              pointHighlightFill: "#fff",
              pointHighlightStroke: "rgba(220,220,220,1)",
              data: []
            }
        ]
    };

    var options3 = {
      scaleGridLineColor: "rgba(255,255,255,.15)",
      scaleLineColor: "rgba(255,255,255,.15)",
      scaleFontColor: "#fff",
      barShowStroke: true,
      bezierCurveTension: .2,
      barStrokeWidth: 2,
      barValueSpacing: 20,
      barDatasetSpacing: 1,
      scaleFontSize: 13,
      scaleOverride: true,
      // ** Required if scaleOverride is true **
      scaleSteps: 12,
      scaleStepWidth: 12,
      scaleStartValue: 0,
      // ** end **
      scaleLabel: " <%= !Number(value) ? '' :  Number(value)%>",
      legendTemplate: "<ul class=\"<%=name.toLowerCase()%>-legend\"> \
                         <% for (var i=0; i<datasets.length; i++){%> \
                           <li><span style=\"background-color:<%=datasets[i].lineColor%>\"> \
                             </span><%if(datasets[i].label){%><%=datasets[i].label%><%}%> \
                           </li> \
                         <%}%> \
                       </ul>"
    }

    function randomizeData(length) {  
    if(scale == "week") length = 6
    if(scale == "month") length = 30
    metricsData.datasets[0].data = []
    if (metricsData.datasets.length < 2) {
      for (i = 0; i <= length; i++) {
        metricsData.datasets[0].data.push(Math.floor(Math.random() * 30 + 20));
      }
    } else {
      metricsData.datasets[1].data = []
      for (i = 0; i <= length; i++) {
        metricsData.datasets[0].data.push(Math.floor(Math.random() * 30 + 20));
        metricsData.datasets[1].data.push(Math.floor(Math.random() * 20 + 15));
      }
    }
  }

  initUserKPI('orders','line')
  contributorEvents();

</script>
