'use strict';

var legacyImagePaths = {
  energyPromo: [
    '<%= asset_url('promo/slide-energy-item-04.png') %>',
    '<%= asset_url('promo/slide-energy-item-03.png') %>',
    '<%= asset_url('promo/slide-show-item.jpg') %>',
    '<%= asset_url('promo/slide-energy-item-05.png') %>',
    '<%= asset_url('promo/slide-energy-item-06.png') %>',
    '<%= asset_url('promo/slide-show-item.jpg') %>',
    '<%= asset_url('promo/slide-energy-item-08.png') %>',
    '<%= asset_url('promo/slide-energy-item-07.png') %>',
    '<%= asset_url('promo/slide-show-item.jpg') %>'
  ],
  teamFaces: [
    '<%= asset_path('promo/people/jb.jpg') %>',
    '<%= asset_path('promo/people/2.jpg') %>',
    '<%= asset_path('promo/people/3.jpg') %>',
    '<%= asset_path('promo/people/7.jpg') %>',
    '<%= asset_path('promo/people/rh.jpg') %>',
    '<%= asset_path('promo/people/9.jpg') %>'
  ],
  libraryResources: [
    '<%= asset_path("library/video.png") %>',
    '<%= asset_path("library/pdf.png") %>'
  ],
  goalsBadges: [
   '<%= image_path("badges/rank0.png") %>',
   '<%= image_path("badges/rank1.png") %>',
   '<%= image_path("badges/rank2.png") %>',
   '<%= image_path("badges/rank3.png") %>',
   '<%= image_path("badges/rank4.png") %>',
   '<%= image_path("badges/rank5.png") %>',
   '<%= image_path("badges/rank6.png") %>'
  ],
  dashboardTeamIcon: '<%= asset_path('dashboard/team_icon.png') %>',
  dashboardCustomersIcon: '<%= asset_path('dashboard/customers_icon.png') %>',
  dashboardKPIIcon: '<%= asset_path('dashboard/kpi_icon.png') %>',
  dashboardRedLogo: '<%= asset_path('dashboard/red-logo.png') %>',

  teamPhoneIcon: '<%= asset_path("dashboard/team-phone.png") %>',
  teamEmailIcon: '<%= asset_path("dashboard/team-email.png") %>',
  teamSocialIcon: '<%= asset_path("dashboard/team-social.png") %>',

  proposalClosedWon: '<%= asset_path("dashboard/proposal-statuses/closed-won.png") %>',
  proposalInProgress: '<%= asset_path("dashboard/proposal-statuses/in-progress.png") %>',
  proposalIncomplete: '<%= asset_path("dashboard/proposal-statuses/incomplete.png") %>',
  proposalIneligibleLocation: '<%= asset_path("dashboard/proposal-statuses/ineligible-location.png") %>',
  proposalLost: '<%= asset_path("dashboard/proposal-statuses/lost.png") %>',
  proposalOnHold: '<%= asset_path("dashboard/proposal-statuses/on-hold.png") %>',
  proposalReadyToSubmit: '<%= asset_path("dashboard/proposal-statuses/ready-to-submit.png") %>',
  proposalSubmitted: '<%= asset_path("dashboard/proposal-statuses/submitted.png") %>',

  defaultAvatar: '<%= asset_path("dashboard/default-avatar.png") %>',
  defaultAvatarThumb: ['<%= asset_path("dashboard/default-avatar-thumb1.png") %>',
                       '<%= asset_path("dashboard/default-avatar-thumb2.png") %>',
                       '<%= asset_path("dashboard/default-avatar-thumb3.png") %>',
                       '<%= asset_path("dashboard/default-avatar-thumb4.png") %>',
                      ],

  applicationAndAgreementLink: '<%= asset_path("powur-pbc-application-and-agreement.pdf") %>',

  energyVideo: 'https://s3.amazonaws.com/sunstand-dev/static/whysolar.mp4',
  wealthVideo: 'https://s3.amazonaws.com/sunstand-dev/static/powur_v4.mp4',
  betaDashboardVideo: 'https://s3.amazonaws.com/sunstand-dev/static/beta_dashboard_intro.mp4',

  videoIconImagePath: '<%= asset_path("library/video-icon.png") %>',
  pdfIconImagePath: '<%= asset_path("library/pdf-icon.png") %>',

  teamSection: {
    teamIcon: '<%= asset_path("dashboard/team_icon.png")%>',
    teamIconInvert: '<%= asset_path("dashboard/team_icon_invert.png")%>',
    teamIconInactive: '<%= asset_path("dashboard/team_icon_inactive.png")%>',
    kpiIcon: '<%= asset_path("dashboard/kpi_icon.png")%>',
    kpiIconInvert: '<%= asset_path("dashboard/kpi_icon_invert.png")%>',
    customerIcon: '<%= asset_path("dashboard/customers_icon.png")%>',
    customerIconInvert: '<%= asset_path("dashboard/customers_icon_invert.png")%>',
    customerIconInactive: '<%= asset_path("dashboard/customers_icon_inactive.png")%>'
  }
};

function randomThumb() {
  return legacyImagePaths.defaultAvatarThumb[Math.floor(Math.random() * 3) ];
}

//JAVASCRIPT CLASS FUNCTIONS
//Returns week number from formated Date
Date.prototype.getWeek = function(){
  var d = new Date(+this);
  d.setHours(0,0,0);
  d.setDate(d.getDate()+4-(d.getDay()||7));
  return Math.ceil((((d-new Date(d.getFullYear(),0,1))/8.64e7)+1)/7);
};

//Add # of days to current date
Date.prototype.addDays = function(days)
{
  var d = new Date(this.valueOf());
  d.setDate(d.getDate() + days);
  return d;
}

Date.prototype.subDays = function(days)
{
  var d = new Date(this.valueOf());
  d.setDate(d.getDate() - days);
  return d;
}

//Week equivelent of getMonth()
Date.prototype.getWeekYear = function ()
{
  var target  = new Date(this.valueOf());
  target.setDate(target.getDate() - ((this.getDay() + 6) % 7) + 3);
  return target.getFullYear();
}

Date.prototype.isSameDateAs = function(pDate) {
  return (
    this.getFullYear() === pDate.getFullYear() &&
    this.getMonth() === pDate.getMonth() &&
    this.getDate() === pDate.getDate()
  );
}
