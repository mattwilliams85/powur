<powur-left-menu control="leftMenu"></powur-left-menu>

<div class="pow-landing-wrapper" ng-class="{'active': leftMenu.isActive}">
  <ng-include src="'shared/header-signed-out.html'"></ng-include>

  <main class="pow-landing pow-sign-up-page">

    <div class="pow-fixed-bg pow-bg-6 inverted">
      <div class="row">
        <h1>Let's Go!</h1>
        <p>Complete your FREE registration by filling in the form below. See you inside.</p>
      </div>
    </div>

    <div class="pow-scrolling-bg">
      <div class="row">
        <!-- Left Side: Enter Invite Code -->
        <div class="invite-code-form large-6 medium-6 columns">
          <form name="validateInviteForm" ng-submit="validateInvite()" novalidate>
            <!-- Column Heading: Enter Your Invite Code -->
            <h2 class="column-heading">Enter your invite code</h2>

            <div class="row collapse">
              <div class="small-8 columns">
                <label for="invite_code">Invite Code</label>
                <input ng-model="invite.code" name="invite_code" type="text" ng-disabled="invite.properties" ng-required='true'>
              </div>

              <div class="small-4 columns">
                <button id="validate_invite_submit" class="invite-code button postfix" ng-disabled="invite.properties" type="submit"></button>
              </div>
            </div>
            <!-- Invite Error Message -->
            <small ng-class="{ 'error' : invite.error }">{{invite.error.message}}</small>
            <small ng-if="!invite.error && !invite.properties">No invite code? Please contact the person who told you about Powur.</small>

            <!-- Valid Invite Code Info Section (gray box under code input) -->
            <div class="sponsor-info-section" ng-if="invite.properties">
              <div class="sponsor-avatar">
                <img ng-src="{{invite.properties.sponsor_avatar}}">
              </div>
              <div class="sponsor-info">
                <div class="valid-code">
                  <small>Great! This invite code is valid!</small>
                </div>
                <small class="sponsor-label">You were invited to Powur by</small>
                <br>
                <span class="sponsor-name">{{invite.properties.sponsor_name}}</span>
                <br>
                <div class="enter-new-code">
                  <small><a ng-click="clearInviteValidationForm()">Click here</a> to enter a different invite code</small>
                </div>
              </div>
            </div>

            <div class="referral-info">
              <div class="lock-icon"></div>
              <div class="referral-only">
                <h1>Powur is a referral only, private network.</h1>
                <!-- <h2>New members require an invite code from an existing Powur Advocate in order to join the network.</h2> -->
                <h2>Powur is currently in Beta and is not issuing invitation codes. Please apply to join Beta by getting back in touch with the person who told you about this site.</h2>
              </div>
            </div>

          </form>
        </div>

        <div class="large-6 medium-6 columns">
          <form name="signUpForm" ng-submit="signUp()" class="sign-up-form" ng-class="{'inactive': !invite.properties}" novalidate>

            <h2 class="column-heading">Register</h2>

            <!-- Contact Information Section -->
            <fieldset ng-disabled="!invite.properties" >
              <legend>Contact Information</legend>
              <!-- First/Last Names -->
              <div class="row">
                <!-- First Name -->
                <div class="large-6 columns">
                  <label for="user_first_name" ng-class="{ 'error' : formErrorMessages['first_name'] }">First Name</label>
                  <input ng-model="user.first_name" name="user_first_name" type="text" ng-class="{ 'error' : formErrorMessages['first_name'] }">
                  <small ng-class="{ 'error' : formErrorMessages['first_name'] }">{{formErrorMessages['first_name']}}</small>
                </div>
                <!-- Last Name -->
                <div class="large-6 columns">
                  <label for="user_last_name" ng-class="{ 'error' : formErrorMessages['last_name'] }">Last Name</label>
                  <input ng-model="user.last_name" name="user_last_name" type="text" ng-class="{ 'error' : formErrorMessages['last_name'] }">
                  <small ng-class="{ 'error' : formErrorMessages['last_name'] }">{{formErrorMessages['last_name']}}</small>
                </div>
              </div>

              <small ng-if="user.email">This is the email you'll use to sign into Powur.</small>
              <!-- Email -->
              <div class="row">
                <div class="large-12 columns">
                  <label for="user_email" ng-class="{ 'error' : formErrorMessages['email'] }">Email</label>
                  <input ng-model="user.email" name="user_email" type="text" disabled>
                </div>
              </div>

              <!-- Phone -->
              <div class="row">
                <div class="large-12 columns">
                  <label for="user_phone" ng-class="{ 'error' : formErrorMessages['phone'] }">Phone</label>
                  <input ng-model="user.phone" name="user_phone" type="text" ng-class="{ 'error' : formErrorMessages['phone'] }">
                  <small ng-class="{ 'error' : formErrorMessages['phone'] }">{{formErrorMessages['phone']}}</small>
                </div>
              </div>
            </fieldset>

            <!-- Password Section -->
            <fieldset ng-disabled="!invite.properties">
              <legend>Password</legend>

              <!-- Password -->
              <div class="row">
                <div class="large-12 columns">
                  <label for="user_password" ng-class="{ 'error' : formErrorMessages['password'] }">Password</label>
                  <input ng-model="user.password" name="user_password" type="password" ng-class="{ 'error' : formErrorMessages['password'] }">
                  <small ng-class="{ 'error' : formErrorMessages['password'] }">{{formErrorMessages['password']}}</small>
                </div>
              </div>
              <!-- Password Confirmation -->
              <div class="row">
                <div class="large-12 columns">
                  <label for="user_password_confirmation" ng-class="{ 'error' : formErrorMessages['password_confirmation'] }">Confirm Password</label>
                  <input ng-model="user.password_confirmation" name="user_password_confirmation" type="password" ng-class="{ 'error' : formErrorMessages['password_confirmation'] }">
                  <small ng-class="{ 'error' : formErrorMessages['password_confirmation'] }">{{formErrorMessages['password_confirmation']}}</small>
                </div>
              </div>
            </fieldset>

            <!-- Address Section -->
            <fieldset ng-disabled="!invite.properties">
              <legend>Address <small>(Optional)</small></legend>

              <!-- Address -->
              <div class="row">
                <div class="large-12 columns">
                  <label for="user_address"ng-class="{ 'error' : formErrorMessages['address'] }">Address</label>
                  <input ng-model="user.address" name="user_address" type="text" ng-class="{ 'error' : formErrorMessages['address'] }">
                  <small ng-class="{ 'error' : formErrorMessages['address'] }">{{formErrorMessages['address']}}</small>
                </div>
              </div>


              <!-- City / State / ZIP -->
              <div class="row">
                <!-- City -->
                <div class="small-5 columns">
                  <label for="user_city" ng-class="{ 'error' : formErrorMessages['city'] }">City</label>
                  <input ng-model="user.city" name="user_city" type="text" ng-class="{ 'error' : formErrorMessages['city'] }">
                  <small ng-class="{ 'error' : formErrorMessages['city'] }">{{formErrorMessages['city']}}</small>
                </div>
                <!-- State -->
                <div class="small-3 columns">
                  <label for="user_state" ng-class="{ 'error' : formErrorMessages['state'] }">State</label>
                  <input ng-model="user.state" name="user_state" type="text" ng-class="{ 'error' : formErrorMessages['state'] }">
                  <small ng-class="{ 'error' : formErrorMessages['state'] }">{{formErrorMessages['state']}}</small>
                </div>
                <!-- ZIP -->
                <div class="small-4 columns">
                  <label for="user_zip" ng-class="{ 'error' : formErrorMessages['zip'] }">ZIP Code</label>
                  <input ng-model="user.zip" name="user_zip" type="text" ng-class="{ 'error' : formErrorMessages['zip'] }">
                  <small ng-class="{ 'error' : formErrorMessages['zip'] }">{{formErrorMessages['zip']}}</small>
                </div>
              </div>
            </fieldset>

            <!-- Application and Agreement Section -->
            <fieldset ng-disabled="!invite.properties">
            <legend>Application and Agreement</legend>
              <!-- Application and Agreement -->
              <div class="row">
                <!-- Error Message -->
                <span ng-class="{ 'error' : formErrorMessages['tos'] }">{{formErrorMessages['tos']}}</span>
                <!-- Checkbox -->
                <div class="small-3 columns">
                  <div class="switch">
                    <input ng-model="user.termsAccepted" name="user_terms_accepted" id="user_terms_accepted" type="checkbox">
                    <label for="user_terms_accepted" ng-class="{ 'error' : formErrorMessages['tos'] }"></label>
                  </div>
                </div>
                <!-- Label -->
                <div class="small-9 columns">
                  <span>I agree to the terms and conditions set forth in the <a href="{{applicationAndAgreementLink}}" target="_blank">Application and Agreement</a>.</span>
                </div>
              </div>
            </fieldset>

            <!-- Register -->
            <button class="large button expand" ng-disabled="!invite.properties || isSubmitDisabled" type="submit">Register for free</button>
          </form>
        </div>
      </div>
    </div>

  </main>
</div>
