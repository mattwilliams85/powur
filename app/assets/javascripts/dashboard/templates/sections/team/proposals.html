<!-- Row: Team Member Proposals -->
<div class="proposal-section" >
    <!-- Row: Customers Carousel -->
    <div class="row collapse carousel-box downline-row" ng-class="{ 'even': downline.length % 2 === 0, 'expand': activeTab === 'proposals'}">
      <div class="w20percent columns">
        <!-- New Proposal Button -->
        <div class="new-proposal" ng-class="{active: mode === 'new', 'even': downline.length % 2 === 0, 'odd': downline.length % 2 !== 0 }">
          <div class="sort-box">
            <form ng-submit="teamSection.searchProposals(); toggleProposal();">
              <div class="no-padding large-12 medium-12 small-12 columns">
                <input ng-model="teamSection.proposalSearch" type="search" placeholder="SEARCH" class="sort">
              </div>
            </form>
            <select class="sort"
                    ng-model="teamSection.proposalSort"
                    ng-change="teamSection.applyIndexActions(); toggleProposal();">
              <option disabled value="">Sort By</option>
              <option ng-repeat="(value, label) in customerSection.proposalSortOptions" ng-value="value">{{label}}</option>
            </select>
            <select class="sort"
                    ng-model="teamSection.proposalStatus"
                    ng-change="teamSection.applyIndexActions(); toggleProposal();">
              <option value="">Show All</option>
              <option ng-repeat="(value, label) in customerSection.proposalStatusOptions" ng-value="value">{{label}}</option>
            </select>
          </div>
        </div>
      </div>
      <div class="carousel-container w80percent columns">
        <!-- Proposals Carousel -->

        <!-- If No Proposals -->
        <div ng-if="teamProposals.length === 0 && !teamSection.searching" class="empty owl-carousel">
          <div class="empty-state">
            <p class="empty-text">No Proposals Found.</p>
          </div>
        </div>

        <!-- If Empty Result for Proposals -->
        <div ng-if="teamProposals.length === 0 && teamSection.searching" class="empty owl-carousel">
          <div class="empty-state">
            <p class="empty-text">No proposals matched the search query and filters you provided above.</p>
          </div>
        </div>

        <!-- If Proposals -->
        <div class="proposals owl-carousel downline" id="teamProposals">
          <a ng-repeat="proposal in teamProposals" ng-click="teamSection.showProposal(proposal); toggleProposal(proposal);">
            <div class="proposal team-proposal" ng-class="{active: proposalId === proposal.properties.id, 'even': downline.length % 2 === 0, 'odd': downline.length % 2 !== 0 }">
              <div class="status-icon">
                <img ng-show="proposal.properties.status === 'closed_won'" ng-src="{{img.proposalClosedWon}}">
                <img ng-show="proposal.properties.status === 'in_progress'" ng-src="{{img.proposalInProgress}}">
                <img ng-show="proposal.properties.status === 'incomplete'" ng-src="{{img.proposalIncomplete}}">
                <img ng-show="proposal.properties.status === 'ineligible_location'" ng-src="{{img.proposalIneligibleLocation}}">
                <img ng-show="proposal.properties.status === 'lost'" ng-src="{{img.proposalLost}}">
                <img ng-show="proposal.properties.status === 'on_hold'" ng-src="{{img.proposalOnHold}}">
                <img ng-show="proposal.properties.status === 'ready_to_submit'" ng-src="{{img.proposalReadyToSubmit}}">
                <img ng-show="proposal.properties.status === 'submitted'" ng-src="{{img.proposalSubmitted}}">
              </div>
              <div class="status-text">
                <span>{{ proposal.properties.status | cleanLabel }}</span>
              </div>
              <div class="customer-name">
                <span>{{proposal.properties.customer}}</span>
              </div>
              <div class="date-text">
                <span>Created {{ proposal.properties.created_at | dateToLocalDate }}</span>
              </div>
            </div>
          </a>
        </div>
      </div>
    </div>
</div>