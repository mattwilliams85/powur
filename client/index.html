<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" ng-app="powur">
    <head>
        <meta charset="utf-8">
        <title></title>
        <!--<link rel="stylesheet" type="text/css" href="vendor/assets/bower_components/angular-material/angular-material.css">-->
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/angular-material/0.10.1/angular-material.css">
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/angular-chart.js/0.8.3/angular-chart.css">
        
        <link rel="stylesheet" type="text/css" href="css/general.css">
        <link rel="stylesheet" type="text/css" href="css/overrides.css">
        <link rel="stylesheet" type="text/css" href="css/nav.css">
        <link rel="stylesheet" type="text/css" href="css/profile.css">
        <link rel="stylesheet" type="text/css" href="css/activity.css">
        <link rel="stylesheet" type="text/css" href="css/invite.css">
        <link rel="stylesheet" type="text/css" href="css/invite-popup.css">
        <link rel="stylesheet" type="text/css" href="css/events.css">
    </head>
    <body ng-controller="RootController as root">
        
        <div layout="row">
            <md-sidenav md-component-id="left" md-is-locked-open="$mdMedia('gt-md')" class="md-sidenav-left md-whiteframe-z2" layout="row">
                <div ui-view="nav" class="parent-height"></div>
                <div ui-view="profile" class="parent-height"></div>
            </md-sidenav>
            <div flex layout="column">
                <md-toolbar hide-gt-md>
                    <div class="md-toolbar-tools toolbar-bg">
                        <md-button class="md-icon-button hide-gt-sm" aria-label="Profile" ng-click="root.openMenu()">
                            <md-icon md-svg-icon="img/menu.svg"></md-icon>
                        </md-button>
                        <h2>
                            <span>POWUR</span>
                        </h2>
                        <span flex></span>
                    </div>
                </md-toolbar>
                
                <div ui-view="main" flex></div>
            </div>
            <div ui-view="activity" class="parent-height"></div>
        </div>
        
        <!-- TODO: replace with rails asset pipeline / maybe load with require -->
        <!-- TODO: use bower -->
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/q.js/1.4.1/q.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.10.1/lodash.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js"></script>
        
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.5/angular.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.15/angular-ui-router.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.5/angular-aria.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.5/angular-animate.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular-material/0.10.1/angular-material.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular-chart.js/0.8.3/angular-chart.min.js"></script>
 
        <script type="text/javascript" src="build/client/js/app.min.js"></script>
    </body>

</html>

<!-- Templates -->
<script type="text/ng-template" id="/partials/home.html">
home
</script>

<script type="text/ng-template" id="/partials/login.html">
login
</script>

<script type="text/ng-template" id="/partials/nav.html">
<div class="nav fill-height">
    <div class="bg fill-height">
        <ul class="list fill-height" layout="column" layout-align="start center">
            <li ng-click="nav.go('invite')" ng-class="{ active: nav.isCurrent('invite') }"><i class="sprite sprite-strategy"></i></li>
            <li ng-click="nav.go('events')" ng-class="{ active: nav.isCurrent('events') }"><i class="sprite sprite-events"></i></li>
            <li ng-click="nav.go('grid')" ng-class="{ active: nav.isCurrent('grid') }"><i class="sprite sprite-grid"></i></li>
            <li ng-click="nav.go('goal')" ng-class="{ active: nav.isCurrent('goal') }"><i class="sprite sprite-goal"></i></li>
            <li ng-click="nav.go('earnings')" ng-class="{ active: nav.isCurrent('earnings') }"><i class="sprite sprite-earnings"></i></li>
    
            <!--<li ng-click="nav.go('social')" ng-class="{ active: nav.isCurrent('social') }"><i class="sprite sprite-social"></i></li>-->
    
            <li ng-click="nav.go('certs')" ng-class="{ active: nav.isCurrent('certs') }"><i class="sprite sprite-certs"></i></li>
            <li ng-click="nav.go('stats')" ng-class="{ active: nav.isCurrent('stats') }"><i class="sprite sprite-stats"></i></li>
    
            <li ng-click="nav.logout()" class="bottom"><i class="sprite sprite-logout"></i></li>
        </ul>
    </div>
</div>
</script>

<script type="text/ng-template" id="/partials/profile.html">
<div class="profile fill-height">
    <div class="headshot">
        <div class="user" layout="column" layout-align="end start">
            <div class="greeting">Good morning,</div>
            <div class="full-name">{{profile.fullName}}</div>
            <div class="actions">
                <i class="sprite sprite-badge"></i>
                <i class="sprite sprite-boxes"></i>
            </div>
        </div>
    </div>
    
    <div class="achievements heading">Achievements</div>
    
    <div class="stat1" layout="row" layout-align="center start">
        <div flex="50" class="rank">
            <div class="stat-title">rank</div>
            <div class="stat">
                <i class="sprite sprite-rank"></i>
                <span class="info">{{profile.rank}}<span class="total">/{{profile.rankTotal}}</span></span>
            </div>
        </div>
        <div flex="50" class="grid-size">
            <div class="stat-title">grid size</div>
            <div class="stat">
                <i class="sprite sprite-grid"></i>
                <span class="info">{{profile.gridSize}}</span>
            </div>
        </div>
    </div>
    
    <div class="stat2">
        <div class="stat-title">dollars earned</div>
        <div class="stat" layout="row">
            <i class="sprite sprite-earned" flex="10"></i>
            <span class="info" flex>{{profile.getWhole(profile.dollarsEarned)}}<span class="superscript">{{profile.getDecimal(profile.dollarsEarned)}}</span></span>
        </div>
    </div>
    
    <div class="stat3" layout="row" layout-align="center start">
        <div flex="50" class="co2">
            <div class="stat-title">
                CO<span class="superscript">2</span> Saved
            </div>
            <div class="stat">
                <i class="sprite sprite-co2"></i>
                <span class="info">{{profile.getWhole(profile.co2)}}<span class="superscript">{{profile.getDecimal(profile.co2)}}</span></span>
            </div>
        </div>
        <div flex="50" class="login-streaks">
            <div class="stat-title">login streaks</div>
            <div class="stat">
                <i class="sprite sprite-login"></i>
                <span class="info">{{profile.loginStreaks}}</span>
            </div>
        </div>
    </div>
    
    <div class="current-goals heading">Current Goals</div>

    <div class="stat4">
        <div class="stat" layout="row">
            <i class="sprite sprite-proposal" flex="10"></i>
            <div class="progress" flex>
                <div class="stat-title">Personal Proposals</div>
                <md-progress-linear md-mode="determinate" value="{{profile.personalProposals}}" flex></md-progress-linear>
            </div>
        </div>
        <div class="stat" layout="row">
            <i class="sprite sprite-proposal-group" flex="10"></i>
            <div class="progress" flex>
                <div class="stat-title">Team Proposals</div>
                <md-progress-linear md-mode="determinate" value="{{profile.teamProposals}}" class="md-warn" flex></md-progress-linear>
            </div>
        </div>
    </div>
    
</div>
</script>

<script type="text/ng-template" id="/partials/activity.html">
<div class="activity fill-height">
    <div class="heading" layout="row">
        <i class="sprite sprite-activity"></i>
        <div class="title">Activity<b>Center</b></div>
    </div>
    <md-input-container>
        <label>Sort By</label>
        <md-select ng-model="activity.sortId">
            <md-option ng-repeat="sort in activity.sorting" value="{{sort.id}}">{{sort.name}}</md-option>
        </md-select>
    </md-input-container>
    <div class="divider"></div>
    <div class="wrapper">
        <div class="container">
            <div ng-repeat="item in activity.news" layout="row" class="activity-item">
                <div class="image">
                    <i class="sprite sprite-news" ng-if="item.imageUrl == 'news'"></i>
                    <img ng-src="{{item.imageUrl}}" ng-if="item.imageUrl != 'news'"/>
                </div>
                <div layout="column" class="content">
                    <div class="date">{{item.date | date : 'MM/dd/yyyy'}}</div>
                    <div class="caption">{{item.caption}}</div>
                </div>
            </div>
        </div>
    </div>
</div>
</script>

<script type="text/ng-template" id="/partials/invite-popup.html">
<div class="invite-popup fill-height">
    <md-dialog aria-label="Invite" class="dialog">
        <form layout="row">
            <div class="side-bg"></div>
            <div layout="column" flex>
                <div layout="row" layout-align="end start"><a href="javascript:void(0);" class="close" ng-click="dialog.cancel()"><i class="sprite sprite-close"></i></a></div>
                <md-dialog-content layout="column">
                    <div class="heading"><div class="title">invitation<b>type</b></div></div>
                    <md-radio-group ng-model="dialog.invitationType" layout="row">
                        <md-radio-button ng-value="0" class="md-primary"><i class="sprite sprite-advocate"></i> advocate</md-radio-button>
                        <md-radio-button ng-value="1"><i class="sprite sprite-household"></i> household</md-radio-button>
                    </md-radio-group>
                    
                    <div class="heading"><div class="title">contact<b>name</b></div></div>
                    <md-content layout-padding layout="row">
                        <md-input-container>
                            <label>first name</label>
                            <input ng-model="dialog.firstName">
                        </md-input-container>
                        <md-input-container>
                            <label>last name</label>
                            <input ng-model="dialog.lastName">
                        </md-input-container>
                    </md-content>
                
                    <div class="heading"><div class="title">contact<b>method</b></div></div>
                    <md-content layout-padding layout="column">
                        <md-input-container>
                            <label>phone number</label>
                            <input ng-model="dialog.phone" type="tel">
                        </md-input-container>
                        <md-input-container>
                            <label>email</label>
                            <input ng-model="dialog.email" type="email">
                        </md-input-container>
                    </md-content>
                    
                    <div class="actions">
                        <md-button ng-click="dialog.send()">
                            Send Invitation
                        </md-button>
                    </div>
                </md-dialog-content>            
            </div>            
        </form>
    </md-dialog>
</div>
</script>

<script type="text/ng-template" id="/partials/invite.html">
<div class="invite main">
    <div class="heading">
        <div class="title">POWUR<b>INVITE</b></div>
        <div class="subtitle">Your journey of the power revolution starts here.</div>
    </div>
    <div class="counter">
        <ul layout="row" layout-align="center center">
            <li flex="25" layout="column" layout-align="center center">
                <div layout="row" layout-align="center center"><i class="sprite sprite-available"></i><span class="count">{{invite.available}}</span></div>
                <div class="label">available</div>
            </li>
            <li flex="25" layout="column" layout-align="center center">
                <div layout="row" layout-align="center center"><i class="sprite sprite-pending"></i><span class="count">{{invite.pending}}</span></div>
                <div class="label">pending</div>
            </li>
            <li flex="25" layout="column" layout-align="center center">
                <div layout="row" layout-align="center center"><i class="sprite sprite-accepted"></i><span class="count">{{invite.accepted}}</span></div>
                <div class="label">accepted</div>
            </li>
            <li flex="25" layout="column" layout-align="center center">
                <div layout="row" layout-align="center center"><i class="sprite sprite-expired"></i><span class="count">{{invite.expired}}</span></div>
                <div class="label">expired</div>
            </li>
        </ul>
    </div>
    <div class="message bg">Get <b>5 Accepted Invitations</b> to <b>Unlock 5 More Invitations</b></div>

    <div layout="row" layout-wrap class="invite-list bg">
        <div ng-repeat="item in invite.invites">
            <div ng-if="item.status == 1" class="invite-item">
                <div class="full-name">{{item.firstName}} <b>{{item.lastName}}</b></div>
                <div class="time">{{item.time | date : 'H:mm'}}<span class="superscript">{{item.time | date : 'ss'}}</span></div>
                <div invite-progress data-progress-model="item"></div>
            </div>
            <div ng-if="item.status == 0" class="invite-item">
                <span class="add counter">
                    <i class="sprite sprite-invite"></i>
                    <div class="label"><a href="javascript:void(0);" ng-click="invite.addInvite(item, $event)">Click to <b>Invite</b></a></div>
                </span>
                <span class="ellipse"><i class="sprite sprite-ellipse-invite"></i></span>
            </div>
            <div ng-if="item.status == 4" class="invite-item">
                <span class="add counter">
                    <i class="sprite sprite-invite"></i>
                    <div class="label"><b>locked</b></div>
                </span>
                <span class="ellipse"><i class="sprite sprite-ellipse-locked"></i></span>
            </div>
        </div>
    </div>
</div>
</script>

<script type="text/ng-template" id="/partials/events.html">
<div class="events main">
    <div class="heading">
        <div class="title">POWUR<b>EVENTS</b></div>
        <div class="subtitle">Live events are announced every month. Don't miss out on the new training, feature releases, and special annoucements.</div>
    </div>
    <div class="seperator"></div>
    <table class="events-list">
        <thead>
            <tr>
                <th class="header">presenter</th>
                <th class="header">time to start</th>
                <th class="header">event description</th>
                <th class="header">share links</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="item in events.events">
                <td>
                    <img ng-src="{{item.presenter.profileUrl}}"/>
                    <div>
                        <div>{{item.presenter.firstName}} {{item.presenter.lastName}}</div>
                        <div>{{item.presenter.title}}, {{item.presenter.company}}</div>
                    </div>
                </td>
                <td>
                    {{events.getHumanize(item.startDate)}}
                </td>
                <td>
                    <div ng-switch="item.type">
                        <i ng-switch-when="0" class="sprite sprite-cal-news"></i>
                        <i ng-switch-when="1" class="sprite sprite-cal-award"></i>
                        <i ng-switch-when="2" class="sprite sprite-cal-star"></i>
                        <i ng-switch-when="3" class="sprite sprite-cal-phone"></i>
                    </div>
                    <div>
                        <div>{{item.title}}</div>
                        <div>{{item.description}}</div>
                    </div>
                </td>
                <td>
                    <a flex="33" href="javascript:void(0);" ng-click="events.share('link', item)"><i class="sprite sprite-link"></i></a>
                    <a flex="33" href="javascript:void(0);" ng-click="events.share('facebook', item)"><i class="sprite sprite-facebook"></i></a>
                    <a flex="33" href="javascript:void(0);" ng-click="events.share('twitter', item)"><i class="sprite sprite-twitter"></i></a>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</script>
